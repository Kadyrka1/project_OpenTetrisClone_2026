// Helper function for Start animation
void action_CommandExecutor(int command_line) {
    while (command_line > 0) {
      delay(33);
      action_RemovePieceFromGrid();
      switch (command_line%4) {
        case 0:
          piece_rotation = (piece_rotation+1)%4;
          break;
        case 1:
          piece_x--;
          break;
        case 2:
          piece_y++;
          break;
        case 3:
          piece_x++;
          break;
      }
      command_line >>= 2;
      action_AddPieceToGrid();
      action_DrawToLED();
  }
  action_LockPiece();
  action_RemovePieceFromGrid();
}

void action_Start() {

  // 00 == rotation
  // 01 == left
  // 10 == down 
  // 11 == right

  // ----Letter "S"----
  action_SpawnPiece(2, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  int command_line = 0b1001001001100010011000; 
  action_CommandExecutor(command_line);

  action_SpawnPiece(2, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1001100100011001;
  action_CommandExecutor(command_line);

  // ----Letter "t"----
  action_SpawnPiece(3, 7, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1010011010011010;
  action_CommandExecutor(command_line);

  action_SpawnPiece(3, 6, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1001100110;
  action_CommandExecutor(command_line);

  // ----Letter "a"----
  action_SpawnPiece(4, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b100110011000101110;
  action_CommandExecutor(command_line);

  action_SpawnPiece(4, 6, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b011000101110001000101110;
  action_CommandExecutor(command_line);

  // ----Letter "r"----
  action_SpawnPiece(5, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1010111000101110;
  action_CommandExecutor(command_line);

  // ----Letter "t"----
  action_SpawnPiece(6, 7, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b10101010111110111011;
  action_CommandExecutor(command_line);

  action_SpawnPiece(6, 6, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b11101110111011;
  action_CommandExecutor(command_line);
}

void action_Lost () {
  // ----Letter "L"----
  action_SpawnPiece(2, 3, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1001100110001001100110;
  action_CommandExecutor(command_line);

  action_SpawnPiece(2, 7, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b011001100110;
  action_CommandExecutor(command_line);

  // ----Letter "o"----
  action_SpawnPiece(3, 7, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1010011010011010;
  action_CommandExecutor(command_line);

  action_SpawnPiece(3, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b100010100010100010;
  action_CommandExecutor(command_line);

  action_SpawnPiece(3, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b100110001000;
  action_CommandExecutor(command_line);

  // ----Letter "s"----
  action_SpawnPiece(4, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b1000100010111000101110;
  action_CommandExecutor(command_line);

  action_SpawnPiece(4, 4, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b101000101110;
  action_CommandExecutor(command_line);

  // ----Letter "t"----
  action_SpawnPiece(5, 7, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b10101011101011111011;
  action_CommandExecutor(command_line);

  action_SpawnPiece(5, 6, 6, 1, 0);
  action_AddPieceToGrid();
  action_DrawToLED();
  command_line = 0b10111110111011;
  action_CommandExecutor(command_line);
}
